<section class="dashboard dashboard--admin">
  <h1 class="dashboard__title">{{ title }}</h1>

  <div class="dashboard__header">
    <p class="dashboard__subtitle">Bienvenido, {{ nombre }} ðŸ‘‹</p>

    <div class="dashboard__actions">
      <button
        mat-flat-button
        color="primary"
        (click)="abrirFormulario()"
        aria-haspopup="dialog"
        aria-controls="dialog-nueva-propiedad"
      >
        + Nueva propiedad
      </button>

      <button
        mat-icon-button
        color="warn"
        matTooltip="Cerrar sesiÃ³n"
        aria-label="Cerrar sesiÃ³n"
        (click)="logout()"
      >
        <mat-icon>logout</mat-icon>
      </button>
    </div>
  </div>

  <div class="dashboard__section dashboard__section--list">
    <h2 class="dashboard__section-title">ðŸ“‹ Propiedades registradas</h2>

    <mat-card *ngIf="propiedades.length">
      <table
        mat-table
        [dataSource]="propiedades"
        class="mat-elevation-z8 dashboard__table"
        aria-label="Tabla de propiedades"
      >
        <ng-container matColumnDef="titulo">
          <th mat-header-cell *matHeaderCellDef> TÃ­tulo </th>
          <td mat-cell *matCellDef="let prop"> {{ prop.titulo }} </td>
        </ng-container>

        <ng-container matColumnDef="tipo">
          <th mat-header-cell *matHeaderCellDef> Tipo </th>
          <td mat-cell *matCellDef="let prop"> {{ prop.tipo }} </td>
        </ng-container>

        <ng-container matColumnDef="estado">
          <th mat-header-cell *matHeaderCellDef> Estado </th>
          <td
            mat-cell
            *matCellDef="let prop"
            [ngClass]="'dashboard__estado--' + prop.estado.toLowerCase()"
          >
            {{ prop.estado }}
          </td>
        </ng-container>

        <ng-container matColumnDef="ubicacion">
          <th mat-header-cell *matHeaderCellDef> UbicaciÃ³n </th>
          <td mat-cell *matCellDef="let prop"> {{ prop.ubicacion }} </td>
        </ng-container>

        <ng-container matColumnDef="precio">
          <th mat-header-cell *matHeaderCellDef> Precio </th>
          <td mat-cell *matCellDef="let prop"> ${{ prop.precio }} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </mat-card>

    <mat-card *ngIf="!propiedades.length">
      <p>No hay propiedades registradas aÃºn.</p>
    </mat-card>
  </div>
</section>
